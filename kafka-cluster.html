<!DOCTYPE html><html lang="ko" class="h-full scroll-smooth"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/><link rel="preload" as="image" href="/posts/datalake/kafka-cluster/kfc-01.png"/><link rel="preload" as="image" href="/posts/datalake/kafka-cluster/kfc-02.png"/><link rel="preload" as="image" href="/posts/datalake/kafka-cluster/kfc-03.png"/><link rel="stylesheet" href="/_next/static/css/e55c60c329523fa0.css" crossorigin="" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-cbb60b3fc21f5bfe.js" crossorigin=""/><script src="/_next/static/chunks/b40443eb-6913cff014374d9b.js" async="" crossorigin=""></script><script src="/_next/static/chunks/848-d93e525e2af78b30.js" async="" crossorigin=""></script><script src="/_next/static/chunks/main-app-c78d4c4d74b2fa27.js" async="" crossorigin=""></script><script src="/_next/static/chunks/605-9393b79bc12886be.js" async=""></script><script src="/_next/static/chunks/734-fab1a4b8e5b2b407.js" async=""></script><script src="/_next/static/chunks/918-55e4a914e8809569.js" async=""></script><script src="/_next/static/chunks/740-bbcd93ebe520aaed.js" async=""></script><script src="/_next/static/chunks/423-1777a1736af94f26.js" async=""></script><script src="/_next/static/chunks/app/layout-4c23c3f84d1aaa1d.js" async=""></script><script src="/_next/static/chunks/app/(blog)/%5Bslug%5D/page-5209ddb2d6058e94.js" async=""></script><link rel="preload" href="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1154659137489563" as="script"/><link rel="preload" href="https://www.googletagmanager.com/gtm.js?id=GTM-KVX3SHG7" as="script"/><title>카프카(Kafka) 설치 및 클러스터 구성 | DevTimes Blog</title><meta name="description" content="카프카(Kafka) 설치"/><meta property="og:title" content="카프카(Kafka) 설치 및 클러스터 구성 | DevTimes Blog"/><meta property="og:description" content="카프카(Kafka) 설치"/><meta property="og:url" content="https://blog.devtimes.com/kafka-cluster"/><meta property="og:image" content="https://blog.devtimes.com/posts/datalake/kafka-cluster/cover.png"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2019-02-14T00:00:00.000Z"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="카프카(Kafka) 설치 및 클러스터 구성 | DevTimes Blog"/><meta name="twitter:description" content="카프카(Kafka) 설치"/><meta name="twitter:image" content="https://blog.devtimes.com/posts/datalake/kafka-cluster/cover.png"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="518x518"/><link rel="icon" href="/icon.png?8d4a794a4e2a4e0b" type="image/png" sizes="518x518"/><link rel="apple-touch-icon" href="/apple-icon.png?8d4a794a4e2a4e0b" type="image/png" sizes="518x518"/><script>(self.__next_s=self.__next_s||[]).push(["https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1154659137489563",{"crossOrigin":"anonymous","id":"adsbygoogle-init"}])</script><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="" noModule=""></script></head><body class="flex min-h-screen flex-col font-pretendard"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><nav style="margin-top:0" class="fixed z-40 flex w-full flex-col items-center justify-center border-b bg-background shadow-sm print:hidden"><div class="mt-1 flex h-[64px] w-full max-w-[1200px] items-center justify-between px-4"><div class="flex items-center font-medium"><a target="_blank" rel="noopener noreferrer" class="rounded-full px-4 py-1 text-center text-sm transition-colors hover:text-primary bg-muted font-medium text-primary" href="https://devtimes.com">DEVTIMES</a><a class="rounded-full px-4 py-1 text-center text-sm transition-colors hover:text-primary text-muted-foreground" href="/">Home</a><a class="rounded-full px-4 py-1 text-center text-sm transition-colors hover:text-primary text-muted-foreground" href="/about">About</a></div><div class="flex gap-3"><a target="_blank" class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground aspect-square p-2" href="https://github.com/winuss"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github size-[1.2rem]"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg></a></div></div></nav><main class="mt-[calc(64px+env(safe-area-inset-top))] flex flex-1 flex-col"><div class="prose mx-auto w-full max-w-[750px] px-5 dark:prose-invert sm:px-6"><header class="mt-14 text-center"><h1 class="mb-5 text-3xl">카프카(Kafka) 설치 및 클러스터 구성</h1><div class="mb-3 text-base"><a class="font-semibold text-pink-600 no-underline underline-offset-4 hover:underline" href="/datalake">Datalake</a></div><div class="flex justify-center gap-3 text-sm text-gray-500 dark:text-gray-400"><div class="flex items-center gap-1"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar-days w-3.5"><path d="M8 2v4"></path><path d="M16 2v4"></path><rect width="18" height="18" x="3" y="4" rx="2"></rect><path d="M3 10h18"></path><path d="M8 14h.01"></path><path d="M12 14h.01"></path><path d="M16 14h.01"></path><path d="M8 18h.01"></path><path d="M12 18h.01"></path><path d="M16 18h.01"></path></svg><span>2019년 02월 14일</span></div><div class="flex items-center gap-1"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clock3 w-3.5"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16.5 12"></polyline></svg><span>8<!-- -->분</span></div></div><hr class="mt-5"/></header><article class="relative"><aside class="not-prose absolute -top-[200px] left-full -mb-[100px] hidden h-[calc(100%+150px)] xl:block "><div class="sticky bottom-0  top-[200px] z-10 ml-[5rem] mt-[200px] w-[200px]"><div class="mb-4 border-l px-4 py-2"><div class="mb-1 font-bold">On this page</div><ul class="text-xs"></ul></div><div class="flex gap-2"><button class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 outline outline-input outline-1 bg-background hover:bg-accent hover:text-accent-foreground aspect-square p-2"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-up-to-line "><path d="M5 3h14"></path><path d="m18 13-6-6-6 6"></path><path d="M12 7v14"></path></svg></button><button class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 outline outline-input outline-1 bg-background hover:bg-accent hover:text-accent-foreground aspect-square p-2"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-square-text "><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path><path d="M13 8H7"></path><path d="M17 12H7"></path></svg></button><button class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 outline outline-input outline-1 bg-background hover:bg-accent hover:text-accent-foreground aspect-square p-2"><span class="sr-only">Copy</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div></div></aside><div class="prose dark:prose-invert"><p>Kafka를 설치하고 간단하게 클러스터 환경을 구성하여 Producer 및 Consumer 테스트를 해보자.</p>
<p>먼저 가상머신을 이용해 다음 그림과 같이 클러스터 환경을 구성하여 테스트를 진행할 것이다.</p>
<p><img src="/posts/datalake/kafka-cluster/kfc-01.png" alt="img" class="mx-auto mb-0 mt-8 rounded-md"/><span class="mb-8 mt-2 block w-full text-center text-sm text-gray-500 dark:text-gray-400">img</span></p>
<p>이 글에서는 3대의 서버를 생성하였지만 1대의 서버로 포트를 다르게 하여 구성할 수도 있다. 또한 Kafka와 Zookeeper서버를 동일한 장비에 구축하였지만 실무에서는 별도로 구축하는 것이 좋다.</p>
<h4 id="kafka-다운로드-및-설치">Kafka 다운로드 및 설치</h4>
<p>다운로드(각 버전에 대해서는 <a target="_blank" href="https://kafka.apache.org/downloads%EB%A5%BC" class="break-words text-pink-600 no-underline underline-offset-4 hover:underline">https://kafka.apache.org/downloads를</a> 참고하자.)</p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-dark:#adbac7;--shiki-light:#24292e;--shiki-dark-bg:#22272e;--shiki-light-bg:#fff" tabindex="0" data-language="bash" data-theme="github-dark-dimmed github-light"><code data-language="bash" data-theme="github-dark-dimmed github-light" style="display:grid"><span data-line=""><span style="--shiki-dark:#F69D50;--shiki-light:#6F42C1">$</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> wget</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> http://apache.mirror.cdnetworks.com/kafka/2.1.0/kafka_2.11-2.1.0.tgz</span></span></code></pre></figure>
<p>압축해제 및 경로이동</p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-dark:#adbac7;--shiki-light:#24292e;--shiki-dark-bg:#22272e;--shiki-light-bg:#fff" tabindex="0" data-language="bash" data-theme="github-dark-dimmed github-light"><code data-language="bash" data-theme="github-dark-dimmed github-light" style="display:grid"><span data-line=""><span style="--shiki-dark:#F69D50;--shiki-light:#6F42C1">$</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> tar</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> -zxvf</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> kafka_2.11-2.1.0.tgz</span></span>
<span data-line=""><span style="--shiki-dark:#F69D50;--shiki-light:#6F42C1">$</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> cd</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> kafka_2.11-2.1.0</span></span></code></pre></figure>
<p>Kafka의 동작은 Zookeeper에 의해 관리가 되기 때문에 Zookeeper 없이는 Kafka를 구동할 수 없다. 이 때문에 Kafka를 다운로드 하면 Zookeeper도 함께 들어있다. 물론 별도로 최신버전의 Zookeeper를 다운받아 사용해도 되지만, Kafka에 들어있는 Zookeeper는 Kafka버전과 잘 동작하는 검증된 버전이므로 패키지 안에 있는 Zookeeper의 사용을 권장한다.</p>
<h5 id="zookeeper-설정">Zookeeper 설정</h5>
<p>각 인스턴스에 설치된 Kafka의 config/zookeeper.properties 파일은 하나의 Zookeeper를 실행하는데 쓰이는 설정 파일이다. 이 말은 zookeeper1.properties, zookeeper2.properties, zookeeper3.properties 이런식으로 여러개의 설정파일을 만들고 하나의 장비에서 다중으로 실행할 수 있다는 의미이다. 설정파일을 다음과 같이 3대의 서버에 동일하게 추가하자.</p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-dark:#adbac7;--shiki-light:#24292e;--shiki-dark-bg:#22272e;--shiki-light-bg:#fff" tabindex="0" data-language="bash" data-theme="github-dark-dimmed github-light"><code data-language="bash" data-theme="github-dark-dimmed github-light" style="display:grid"><span data-line=""><span style="--shiki-dark:#F69D50;--shiki-light:#6F42C1">$</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> vi</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> config/zookeeper.properties</span></span></code></pre></figure>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-dark:#adbac7;--shiki-light:#24292e;--shiki-dark-bg:#22272e;--shiki-light-bg:#fff" tabindex="0" data-language="bash" data-theme="github-dark-dimmed github-light"><code data-language="bash" data-theme="github-dark-dimmed github-light" style="display:grid"><span data-line=""><span style="--shiki-dark:#768390;--shiki-light:#6A737D"># the directory where the snapshot is stored.</span></span>
<span data-line=""><span style="--shiki-dark:#ADBAC7;--shiki-light:#24292E">dataDir</span><span style="--shiki-dark:#F47067;--shiki-light:#D73A49">=</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5">**</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62">/tmp/zookeeper</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5">**</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#768390;--shiki-light:#6A737D"># the port at which the clients will connect</span></span>
<span data-line=""><span style="--shiki-dark:#ADBAC7;--shiki-light:#24292E">clientPort</span><span style="--shiki-dark:#F47067;--shiki-light:#D73A49">=</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5">2181</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#768390;--shiki-light:#6A737D"># disable the per-ip limit on the number of connections </span></span>
<span data-line=""><span style="--shiki-dark:#768390;--shiki-light:#6A737D"># since this is a non-production config</span></span>
<span data-line=""><span style="--shiki-dark:#ADBAC7;--shiki-light:#24292E">maxClientCnxns</span><span style="--shiki-dark:#F47067;--shiki-light:#D73A49">=</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5">0</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#ADBAC7;--shiki-light:#24292E">initLimit</span><span style="--shiki-dark:#F47067;--shiki-light:#D73A49">=</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5">5</span></span>
<span data-line=""><span style="--shiki-dark:#ADBAC7;--shiki-light:#24292E">syncLimmit</span><span style="--shiki-dark:#F47067;--shiki-light:#D73A49">=</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5">2</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#F69D50;--shiki-light:#6F42C1">server.1</span><span style="--shiki-dark:#ADBAC7;--shiki-light:#24292E">=192.168.137.101:2888:3888</span></span>
<span data-line=""><span style="--shiki-dark:#F69D50;--shiki-light:#6F42C1">server.2</span><span style="--shiki-dark:#ADBAC7;--shiki-light:#24292E">=192.168.137.102:2888:3888</span></span>
<span data-line=""><span style="--shiki-dark:#F69D50;--shiki-light:#6F42C1">server.3</span><span style="--shiki-dark:#ADBAC7;--shiki-light:#24292E">=192.168.137.103:2888:3888</span></span></code></pre></figure>
<p>새로 추가한 설정값은 클러스터를 구성하는데 필요한 설정 값들안데 여기서 주의할 점은 모든 Zookeeper 서버들은 동일한 변수 값을 가지고 있어야 한다.</p>
<p><strong>initLimit</strong></p>
<p>팔로워가 리더와 초기에 연결하는 시간에 대한 타임아웃</p>
<p><strong>syncLimit</strong></p>
<p>팔로워가 리더와 동기화 하는데에 대한 타임아웃. 즉 이 틱 시간안에 팔로워가 리더와 동기화가 되지 않는다면 제거 된다.</p>
<p>이 두값은 dafault 기본값이 없기 때문에 반드시 설정해야 하는 값이다.</p>
<p>그리고 server.1,2,3의 숫자는 인스턴스 ID이다. ID는 dataDir=/tmp/zookeeper 폴더에 myid파일에 명시가 되어야 한다.</p>
<p>/tmp/zookeeper 디렉토리가 없다면 생성하고 myid 파일을 생성하여 각각 서버의 고유 ID값을 부여해야 한다.</p>
<p>(그 외 자세한 설정정보를 알고 싶다면 <strong>주키퍼 가이드문서</strong>를 참고하자.)</p>
<p><strong>1 서버 (192.168.137.101)</strong></p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-dark:#adbac7;--shiki-light:#24292e;--shiki-dark-bg:#22272e;--shiki-light-bg:#fff" tabindex="0" data-language="bash" data-theme="github-dark-dimmed github-light"><code data-language="bash" data-theme="github-dark-dimmed github-light" style="display:grid"><span data-line=""><span style="--shiki-dark:#F69D50;--shiki-light:#6F42C1">$</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> mkdir</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> /tmp/zookeeper</span></span>
<span data-line=""><span style="--shiki-dark:#F69D50;--shiki-light:#6F42C1">$</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> echo</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> 1</span><span style="--shiki-dark:#F47067;--shiki-light:#D73A49"> &gt;</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> /tmp/zookeeper/myid</span></span></code></pre></figure>
<p><strong>2 서버 (192.168.137.102)</strong></p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-dark:#adbac7;--shiki-light:#24292e;--shiki-dark-bg:#22272e;--shiki-light-bg:#fff" tabindex="0" data-language="bash" data-theme="github-dark-dimmed github-light"><code data-language="bash" data-theme="github-dark-dimmed github-light" style="display:grid"><span data-line=""><span style="--shiki-dark:#F69D50;--shiki-light:#6F42C1">$</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> mkdir</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> /tmp/zookeeper</span></span>
<span data-line=""><span style="--shiki-dark:#F69D50;--shiki-light:#6F42C1">$</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> echo</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> 2</span><span style="--shiki-dark:#F47067;--shiki-light:#D73A49"> &gt;</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> /tmp/zookeeper/myid</span></span></code></pre></figure>
<p><strong>3 서버 (192.168.137.103)</strong></p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-dark:#adbac7;--shiki-light:#24292e;--shiki-dark-bg:#22272e;--shiki-light-bg:#fff" tabindex="0" data-language="bash" data-theme="github-dark-dimmed github-light"><code data-language="bash" data-theme="github-dark-dimmed github-light" style="display:grid"><span data-line=""><span style="--shiki-dark:#F69D50;--shiki-light:#6F42C1">$</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> mkdir</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> /tmp/zookeeper</span></span>
<span data-line=""><span style="--shiki-dark:#F69D50;--shiki-light:#6F42C1">$</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> echo</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> 3</span><span style="--shiki-dark:#F47067;--shiki-light:#D73A49"> &gt;</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> /tmp/zookeeper/myid</span></span></code></pre></figure>
<p>이제 Zookeeper를 구동하기 위한 설정은 끝~</p>
<h4 id="kafka-설정">Kafka 설정</h4>
<p>Kafka의 config/server.properties 파일은 하나의 Kafka를 실행하는데 쓰이는 설정 파일이다. Zookeeper와 마찬가지로 여러개의 설정파일을 만들고 다중 실행을 할 수 있다.</p>
<p>설정파일 config/server.properties에 3대 서버 각 환경에 맞는 정보를 입력해 준다.</p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-dark:#adbac7;--shiki-light:#24292e;--shiki-dark-bg:#22272e;--shiki-light-bg:#fff" tabindex="0" data-language="bash" data-theme="github-dark-dimmed github-light"><code data-language="bash" data-theme="github-dark-dimmed github-light" style="display:grid"><span data-line=""><span style="--shiki-dark:#F69D50;--shiki-light:#6F42C1">$</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> vi</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> config/server.properties</span></span></code></pre></figure>
<p><strong>1 서버 (192.168.137.101)</strong></p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-dark:#adbac7;--shiki-light:#24292e;--shiki-dark-bg:#22272e;--shiki-light-bg:#fff" tabindex="0" data-language="bash" data-theme="github-dark-dimmed github-light"><code data-language="bash" data-theme="github-dark-dimmed github-light" style="display:grid"><span data-line=""><span style="--shiki-dark:#F69D50;--shiki-light:#6F42C1">broker.id</span><span style="--shiki-dark:#ADBAC7;--shiki-light:#24292E">=1</span></span>
<span data-line=""><span style="--shiki-dark:#ADBAC7;--shiki-light:#24292E">listeners</span><span style="--shiki-dark:#F47067;--shiki-light:#D73A49">=</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62">PLAINTEXT://:9092</span></span>
<span data-line=""><span style="--shiki-dark:#F69D50;--shiki-light:#6F42C1">advertised.listeners</span><span style="--shiki-dark:#ADBAC7;--shiki-light:#24292E">=PLAINTEXT://**192.168.137.101**:9092</span></span>
<span data-line=""><span style="--shiki-dark:#F69D50;--shiki-light:#6F42C1">zookeeper.connect</span><span style="--shiki-dark:#ADBAC7;--shiki-light:#24292E">=192.168.137.101:2181, </span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5">192.168</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62">.137.102:2181,</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> 192.168</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62">.137.103:2181</span></span></code></pre></figure>
<p><strong>2 서버 (192.168.137.102)</strong></p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-dark:#adbac7;--shiki-light:#24292e;--shiki-dark-bg:#22272e;--shiki-light-bg:#fff" tabindex="0" data-language="bash" data-theme="github-dark-dimmed github-light"><code data-language="bash" data-theme="github-dark-dimmed github-light" style="display:grid"><span data-line=""><span style="--shiki-dark:#F69D50;--shiki-light:#6F42C1">broker.id</span><span style="--shiki-dark:#ADBAC7;--shiki-light:#24292E">=2</span></span>
<span data-line=""><span style="--shiki-dark:#ADBAC7;--shiki-light:#24292E">listeners</span><span style="--shiki-dark:#F47067;--shiki-light:#D73A49">=</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62">PLAINTEXT://:9092</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#F69D50;--shiki-light:#6F42C1">advertised.listeners</span><span style="--shiki-dark:#ADBAC7;--shiki-light:#24292E">=PLAINTEXT://**192.168.137.102**:9092</span></span>
<span data-line=""><span style="--shiki-dark:#F69D50;--shiki-light:#6F42C1">zookeeper.connect</span><span style="--shiki-dark:#ADBAC7;--shiki-light:#24292E">=192.168.137.101:2181, </span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5">192.168</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62">.137.102:2181,</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> 192.168</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62">.137.103:2181</span></span></code></pre></figure>
<p><strong>3 서버 (192.168.137.103)</strong></p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-dark:#adbac7;--shiki-light:#24292e;--shiki-dark-bg:#22272e;--shiki-light-bg:#fff" tabindex="0" data-language="bash" data-theme="github-dark-dimmed github-light"><code data-language="bash" data-theme="github-dark-dimmed github-light" style="display:grid"><span data-line=""><span style="--shiki-dark:#F69D50;--shiki-light:#6F42C1">broker.id</span><span style="--shiki-dark:#ADBAC7;--shiki-light:#24292E">=3</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#ADBAC7;--shiki-light:#24292E">listeners</span><span style="--shiki-dark:#F47067;--shiki-light:#D73A49">=</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62">PLAINTEXT://:9092</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#F69D50;--shiki-light:#6F42C1">advertised.listeners</span><span style="--shiki-dark:#ADBAC7;--shiki-light:#24292E">=PLAINTEXT://**192.168.137.103**:9092</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#F69D50;--shiki-light:#6F42C1">zookeeper.connect</span><span style="--shiki-dark:#ADBAC7;--shiki-light:#24292E">=192.168.137.101:2181, </span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5">192.168</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62">.137.102:2181,</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> 192.168</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62">.137.103:2181</span></span></code></pre></figure>
<p>별도 파일(/tmp/zookeeper/myid)에 인스턴스 ID를 명시해야 하는 Zookeeper와는 달리 Kafka는 설정파일안에 broker.id라는 항목이 있다.</p>
<p>그리고 zookeeper.connet라는 항목에는 Zookeeper인스턴스들의 정보를 입력해준다.</p>
<p>Kafka를 구동하기 위한 설정은 끝났다. 클러스터 구성을 위한 인스턴스들의 정보를 입력해 주는것이 거의 대부분의 설정이다.</p>
<p>그외 설정 파일에 대한 상세한 내용은 공식 홈페이지의 <a target="_blank" href="http://kafka.apache.org/documentation/#brokerconfigs" class="break-words text-pink-600 no-underline underline-offset-4 hover:underline"><strong>Broker Configs</strong></a>를 참고하길 바란다. default설정값을 확인하고 변경하고자 하는 값들은 설정파일에 명시를 해주면 된다.</p>
<h4 id="zookeeper-및-kafka-서버-구동">Zookeeper 및 Kafka 서버 구동</h4>
<p>Kafka를 구동하기 위해 먼저 Zookeeper를 구동 한다음 이후 Kafka를 구동해야 한다.</p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-dark:#adbac7;--shiki-light:#24292e;--shiki-dark-bg:#22272e;--shiki-light-bg:#fff" tabindex="0" data-language="bash" data-theme="github-dark-dimmed github-light"><code data-language="bash" data-theme="github-dark-dimmed github-light" style="display:grid"><span data-line=""><span style="--shiki-dark:#F69D50;--shiki-light:#6F42C1">$</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> bin/zookeeper-server-start.sh</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> config/zookeeper.properties</span></span>
<span data-line=""><span style="--shiki-dark:#F69D50;--shiki-light:#6F42C1">$</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> bin/kafka-server-start.sh</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> config/server.properties</span></span></code></pre></figure>
<p>3대의 서버에 Zookeeper와 Kafka가 정상적으로 구동이 되었다면 다음과 같이 starting 메시지를 확인할 수 있을 것이다.</p>
<p>*starting (kafka.server.KafkaServer)</p>
<p>이제 기본적인 클러스터 환경을 구성하고 서버를 구동시켰다.</p>
<p>Kafka에서는 bin폴더 아래 제공되는 스크립트 파일을 이용해 Topic을 관리하고 Producer,Consumer를 테스트 해볼수 있다.</p>
<p>기본적인 몇가지 스크립트 명령을 이용해 Topic을 생성해 보고 Producer 메시지를 저장하고 Consumer 메시지를 읽어오는것을 확인해 보도록 하자.</p>
<h4 id="topic-관리">Topic 관리</h4>
<p><strong>1. Topic생성</strong></p>
<p>GameLog, GameLog2, GameLog3 세개의 Topic을 생성해보자.(replication-factor:3, partitions : 1)</p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-dark:#adbac7;--shiki-light:#24292e;--shiki-dark-bg:#22272e;--shiki-light-bg:#fff" tabindex="0" data-language="bash" data-theme="github-dark-dimmed github-light"><code data-language="bash" data-theme="github-dark-dimmed github-light" style="display:grid"><span data-line=""><span style="--shiki-dark:#F69D50;--shiki-light:#6F42C1">$</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> bin/kafka-topics.sh</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> --create</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> --zookeeper</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> 192.168</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62">.137.101:2181,</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> 192.168</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62">.137.102:2181,</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> 192.168</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62">.137.103:2181</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> --replication-factor</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> 3</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> --partitions</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> 1</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> --topic</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> GameLog</span></span>
<span data-line=""><span style="--shiki-dark:#F69D50;--shiki-light:#6F42C1">$</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> bin/kafka-topics.sh</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> --create</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> --zookeeper</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> 192.168</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62">.137.101:2181,</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> 192.168</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62">.137.102:2181,</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> 192.168</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62">.137.103:2181</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> --replication-factor</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> 3</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> --partitions</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> 1</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> --topic</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> GameLog2</span></span>
<span data-line=""><span style="--shiki-dark:#F69D50;--shiki-light:#6F42C1">$</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> bin/kafka-topics.sh</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> --create</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> --zookeeper</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> 192.168</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62">.137.101:2181,</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> 192.168</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62">.137.102:2181,</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> 192.168</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62">.137.103:2181</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> --replication-factor</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> 3</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> --partitions</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> 1</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> --topic</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> GameLog3</span></span></code></pre></figure>
<p>출력 <em>Created topic &quot;GameLog&quot;</em></p>
<p><strong>2. Topic 리스트 확인</strong></p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-dark:#adbac7;--shiki-light:#24292e;--shiki-dark-bg:#22272e;--shiki-light-bg:#fff" tabindex="0" data-language="bash" data-theme="github-dark-dimmed github-light"><code data-language="bash" data-theme="github-dark-dimmed github-light" style="display:grid"><span data-line=""><span style="--shiki-dark:#F69D50;--shiki-light:#6F42C1">$</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> bin/kafka-topics.sh</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> --list</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> --zookeeper</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> 192.168</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62">.137.101:2181,</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> 192.168</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62">.137.102:2181,</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> 192.168</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62">.0.103:2181</span></span></code></pre></figure>
<p>출력 GameLog GameLog2 GameLog3</p>
<p><strong>3. Topic 삭제</strong></p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-dark:#adbac7;--shiki-light:#24292e;--shiki-dark-bg:#22272e;--shiki-light-bg:#fff" tabindex="0" data-language="bash" data-theme="github-dark-dimmed github-light"><code data-language="bash" data-theme="github-dark-dimmed github-light" style="display:grid"><span data-line=""><span style="--shiki-dark:#F69D50;--shiki-light:#6F42C1">$</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> bin/kafka-topics.sh</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> --delete</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> --zookeeper</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> 192.168</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62">.137.101:2181,</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> 192.168</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62">.137.102:2181,</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> 192.168</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62">.137.103:2181</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> --topic</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> GameLog3</span></span></code></pre></figure>
<p>출력 <em>Topic GameLog3 is marked for deletion</em></p>
<p><strong>4. Topic 상세 정보 확인</strong></p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-dark:#adbac7;--shiki-light:#24292e;--shiki-dark-bg:#22272e;--shiki-light-bg:#fff" tabindex="0" data-language="bash" data-theme="github-dark-dimmed github-light"><code data-language="bash" data-theme="github-dark-dimmed github-light" style="display:grid"><span data-line=""><span style="--shiki-dark:#F69D50;--shiki-light:#6F42C1">$</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> bin/kafka-topics.sh</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> --describe</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> --zookeeper</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> 192.168</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62">.137.101:2181,</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> 192.168</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62">.137.102:2181,</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> 192.168</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62">.137.103:2181</span></span></code></pre></figure>
<p>출력 <em>PartitionCount:1 ReplicationFactor:3..</em></p>
<p>토픽을 생성했으면 해당 토픽에 메시지를 생산하고 소비하는것을 직접 확인해보자.</p>
<h4 id="메시지-생산-및-소비">메시지 생산 및 소비</h4>
<p><strong>1.Producer 메시지 생산하기</strong></p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-dark:#adbac7;--shiki-light:#24292e;--shiki-dark-bg:#22272e;--shiki-light-bg:#fff" tabindex="0" data-language="bash" data-theme="github-dark-dimmed github-light"><code data-language="bash" data-theme="github-dark-dimmed github-light" style="display:grid"><span data-line=""><span style="--shiki-dark:#F69D50;--shiki-light:#6F42C1">$</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> bin/kafka-console-producer.sh</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> --broker-list</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> 192.168</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62">.137.101:9092,192.168.137.102:9092,192.168.137.103:9092</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> --topic</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> GameLog</span></span></code></pre></figure>
<p><img src="/posts/datalake/kafka-cluster/kfc-02.png" alt="img" class="mx-auto mb-0 mt-8 rounded-md"/><span class="mb-8 mt-2 block w-full text-center text-sm text-gray-500 dark:text-gray-400">img</span></p>
<p><strong>2.Consumer 메시지 소비하기</strong></p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-dark:#adbac7;--shiki-light:#24292e;--shiki-dark-bg:#22272e;--shiki-light-bg:#fff" tabindex="0" data-language="bash" data-theme="github-dark-dimmed github-light"><code data-language="bash" data-theme="github-dark-dimmed github-light" style="display:grid"><span data-line=""><span style="--shiki-dark:#F69D50;--shiki-light:#6F42C1">$</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> bin/kafka-console-consumer.sh</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> --bootstrap-server</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> 192.168</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62">.137.101:9092,192.168.137.102:9092,192.168.137.103:9092</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> --topic</span><span style="--shiki-dark:#96D0FF;--shiki-light:#032F62"> GameLog</span><span style="--shiki-dark:#6CB6FF;--shiki-light:#005CC5"> --from-beginning</span></span></code></pre></figure>
<p><img src="/posts/datalake/kafka-cluster/kfc-03.png" alt="img" class="mx-auto mb-0 mt-8 rounded-md"/><span class="mb-8 mt-2 block w-full text-center text-sm text-gray-500 dark:text-gray-400">img</span></p>
<p>from-beginning 옵션은 해당 topic의 맨 처음 메시지부터 소비하겠다는 의미이다.</p>
<p>그림에서 보는 것과 같이 Producer에서 메시지를 입력하면 Consumer에서 해당 메시지를 읽어오는 것을 확인 할 수 있다.</p>
<p>지금까지 Kafka 클러스터를 직접 구축하여 메시지 생산하고 소비하는 것을 간단하게 해보았다.</p></div></article><hr/><section></section><div class="group fixed bottom-4 right-4 xl:hidden"><div class="group relative flex flex-col-reverse"><button class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 outline outline-input outline-1 bg-background hover:bg-accent hover:text-accent-foreground aspect-square p-2 absolute bottom-0 right-0 z-10 transition"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bolt "><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><circle cx="12" cy="12" r="4"></circle></svg></button><button class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 outline outline-input outline-1 bg-background hover:bg-accent hover:text-accent-foreground aspect-square p-2 absolute bottom-0 right-0 transition"><span class="sr-only">Copy</span><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><button class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 outline outline-input outline-1 bg-background hover:bg-accent hover:text-accent-foreground aspect-square p-2 absolute bottom-0 right-0 transition"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-square-text "><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path><path d="M13 8H7"></path><path d="M17 12H7"></path></svg></button><button class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 outline outline-input outline-1 bg-background hover:bg-accent hover:text-accent-foreground aspect-square p-2 absolute bottom-0 right-0 transition"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-up-to-line "><path d="M5 3h14"></path><path d="m18 13-6-6-6 6"></path><path d="M12 7v14"></path></svg></button></div></div></div></main><footer class="mb-16 mt-20 flex flex-col items-center justify-center gap-4 text-center print:hidden"><div class="flex justify-center gap-4"><a target="_blank" href="https://github.com/winuss"><svg fill="currentColor" viewBox="0 0 16 16" height="30" width="30" class="fill-foreground transition hover:fill-pink-600"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg></a><a target="_blank" href="https://www.linkedin.com/in/"><svg viewBox="0 0 24 24" fill="currentColor" height="30" width="30" class="fill-foreground transition hover:fill-pink-600"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></a></div><div>© 2024. <span class="font-semibold">Devtimes Blog</span> all rights reserved.</div></footer><div role="region" aria-label="Notifications (F8)" tabindex="-1" style="pointer-events:none"><ol tabindex="-1" class="fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[300px]"></ol></div><script src="/_next/static/chunks/webpack-cbb60b3fc21f5bfe.js" crossorigin="" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/e55c60c329523fa0.css\",\"style\",{\"crossOrigin\":\"\"}]\n0:\"$L2\"\n"])</script><script>self.__next_f.push([1,"3:I[2386,[],\"\"]\n6:I[9261,[],\"\"]\n8:I[6675,[],\"\"]\n9:I[1441,[\"605\",\"static/chunks/605-9393b79bc12886be.js\",\"734\",\"static/chunks/734-fab1a4b8e5b2b407.js\",\"918\",\"static/chunks/918-55e4a914e8809569.js\",\"740\",\"static/chunks/740-bbcd93ebe520aaed.js\",\"423\",\"static/chunks/423-1777a1736af94f26.js\",\"185\",\"static/chunks/app/layout-4c23c3f84d1aaa1d.js\"],\"\"]\na:I[8390,[\"605\",\"static/chunks/605-9393b79bc12886be.js\",\"734\",\"static/chunks/734-fab1a4b8e5b2b407.js\",\"918\",\"static/chunks/918-55e4a914e8809569.js\",\"740\",\"static/chun"])</script><script>self.__next_f.push([1,"ks/740-bbcd93ebe520aaed.js\",\"423\",\"static/chunks/423-1777a1736af94f26.js\",\"185\",\"static/chunks/app/layout-4c23c3f84d1aaa1d.js\"],\"ThemeProvider\"]\nb:I[7083,[\"605\",\"static/chunks/605-9393b79bc12886be.js\",\"734\",\"static/chunks/734-fab1a4b8e5b2b407.js\",\"918\",\"static/chunks/918-55e4a914e8809569.js\",\"740\",\"static/chunks/740-bbcd93ebe520aaed.js\",\"423\",\"static/chunks/423-1777a1736af94f26.js\",\"185\",\"static/chunks/app/layout-4c23c3f84d1aaa1d.js\"],\"Header\"]\nc:I[9605,[\"605\",\"static/chunks/605-9393b79bc12886be.js\",\"734\",\""])</script><script>self.__next_f.push([1,"static/chunks/734-fab1a4b8e5b2b407.js\",\"206\",\"static/chunks/app/(blog)/%5Bslug%5D/page-5209ddb2d6058e94.js\"],\"\"]\nd:I[3760,[\"605\",\"static/chunks/605-9393b79bc12886be.js\",\"734\",\"static/chunks/734-fab1a4b8e5b2b407.js\",\"918\",\"static/chunks/918-55e4a914e8809569.js\",\"740\",\"static/chunks/740-bbcd93ebe520aaed.js\",\"423\",\"static/chunks/423-1777a1736af94f26.js\",\"185\",\"static/chunks/app/layout-4c23c3f84d1aaa1d.js\"],\"Toaster\"]\ne:I[4743,[\"605\",\"static/chunks/605-9393b79bc12886be.js\",\"734\",\"static/chunks/734-fab1a4b8e5b2b"])</script><script>self.__next_f.push([1,"407.js\",\"918\",\"static/chunks/918-55e4a914e8809569.js\",\"740\",\"static/chunks/740-bbcd93ebe520aaed.js\",\"423\",\"static/chunks/423-1777a1736af94f26.js\",\"185\",\"static/chunks/app/layout-4c23c3f84d1aaa1d.js\"],\"GoogleTagManager\"]\n10:I[5404,[],\"\"]\n7:[\"slug\",\"kafka-cluster\",\"d\"]\n11:[]\n"])</script><script>self.__next_f.push([1,"2:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/e55c60c329523fa0.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]],[\"$\",\"$L3\",null,{\"buildId\":\"-Skh6S-kMzD_1jUfe8Gq3\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/kafka-cluster\",\"initialTree\":[\"\",{\"children\":[\"(blog)\",{\"children\":[[\"slug\",\"kafka-cluster\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"kafka-cluster\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"(blog)\",{\"children\":[[\"slug\",\"kafka-cluster\",\"d\"],{\"children\":[\"__PAGE__\",{},[\"$L4\",\"$L5\",null]]},[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(blog)\",\"children\",\"$7\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}]]},[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(blog)\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}]]},[null,[\"$\",\"html\",null,{\"lang\":\"ko\",\"className\":\"h-full scroll-smooth\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"head\",null,{\"children\":[\"$\",\"$L9\",null,{\"id\":\"adsbygoogle-init\",\"strategy\":\"beforeInteractive\",\"src\":\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1154659137489563\",\"crossOrigin\":\"anonymous\"}]}],[\"$\",\"body\",null,{\"className\":\"flex min-h-screen flex-col font-pretendard\",\"children\":[[\"$\",\"$La\",null,{\"children\":[[\"$\",\"$Lb\",null,{}],[\"$\",\"main\",null,{\"className\":\"mt-[calc(64px+env(safe-area-inset-top))] flex flex-1 flex-col\",\"children\":[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$\",\"div\",null,{\"className\":\"grid flex-1 place-content-center text-center\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"mb-4 text-2xl font-bold\",\"children\":\"Not Found\"}],[\"$\",\"p\",null,{\"className\":\"mb-8 text-lg\",\"children\":\"찾을 수 없는 페이지입니다.\"}],[\"$\",\"$Lc\",null,{\"href\":\"/\",\"children\":\"홈으로\",\"className\":\"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 py-2 mx-auto w-fit px-10\"}]]}],\"notFoundStyles\":[],\"styles\":null}]}],[\"$\",\"footer\",null,{\"className\":\"mb-16 mt-20 flex flex-col items-center justify-center gap-4 text-center print:hidden\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex justify-center gap-4\",\"children\":[[\"$\",\"$Lc\",null,{\"href\":\"https://github.com/winuss\",\"target\":\"_blank\",\"children\":[\"$\",\"svg\",null,{\"fill\":\"currentColor\",\"viewBox\":\"0 0 16 16\",\"height\":30,\"width\":30,\"className\":\"fill-foreground transition hover:fill-pink-600\",\"children\":[\"$\",\"path\",null,{\"d\":\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0016 8c0-4.42-3.58-8-8-8z\"}]}]}],[\"$\",\"$Lc\",null,{\"href\":\"https://www.linkedin.com/in/\",\"target\":\"_blank\",\"children\":[\"$\",\"svg\",null,{\"viewBox\":\"0 0 24 24\",\"fill\":\"currentColor\",\"height\":30,\"width\":30,\"className\":\"fill-foreground transition hover:fill-pink-600\",\"children\":[\"$\",\"path\",null,{\"d\":\"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z\"}]}]}]]}],[\"$\",\"div\",null,{\"children\":[\"© 2024. \",[\"$\",\"span\",null,{\"className\":\"font-semibold\",\"children\":\"Devtimes Blog\"}],\" all rights reserved.\"]}]]}]]}],[\"$\",\"$Ld\",null,{}],[\"$\",\"$Le\",null,{\"gtmId\":\"GTM-KVX3SHG7\"}]]}]]}],null]],\"initialHead\":[false,\"$Lf\"],\"globalErrorComponent\":\"$10\",\"missingSlots\":\"$W11\"}]]\n"])</script><script>self.__next_f.push([1,"12:I[2465,[\"605\",\"static/chunks/605-9393b79bc12886be.js\",\"734\",\"static/chunks/734-fab1a4b8e5b2b407.js\",\"206\",\"static/chunks/app/(blog)/%5Bslug%5D/page-5209ddb2d6058e94.js\"],\"\"]\n14:I[3574,[\"605\",\"static/chunks/605-9393b79bc12886be.js\",\"734\",\"static/chunks/734-fab1a4b8e5b2b407.js\",\"206\",\"static/chunks/app/(blog)/%5Bslug%5D/page-5209ddb2d6058e94.js\"],\"\"]\n15:I[938,[\"605\",\"static/chunks/605-9393b79bc12886be.js\",\"734\",\"static/chunks/734-fab1a4b8e5b2b407.js\",\"206\",\"static/chunks/app/(blog)/%5Bslug%5D/page-5209ddb2"])</script><script>self.__next_f.push([1,"d6058e94.js\"],\"\"]\n"])</script><script>self.__next_f.push([1,"5:[\"$\",\"div\",null,{\"className\":\"prose mx-auto w-full max-w-[750px] px-5 dark:prose-invert sm:px-6\",\"children\":[[\"$\",\"header\",null,{\"className\":\"mt-14 text-center\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"mb-5 text-3xl\",\"children\":\"카프카(Kafka) 설치 및 클러스터 구성\"}],[\"$\",\"div\",null,{\"className\":\"mb-3 text-base\",\"children\":[\"$\",\"$Lc\",null,{\"href\":\"/datalake\",\"className\":\"font-semibold text-pink-600 no-underline underline-offset-4 hover:underline\",\"children\":\"Datalake\"}]}],[\"$\",\"div\",null,{\"className\":\"flex justify-center gap-3 text-sm text-gray-500 dark:text-gray-400\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-center gap-1\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-calendar-days w-3.5\",\"children\":[[\"$\",\"path\",\"1cmpym\",{\"d\":\"M8 2v4\"}],[\"$\",\"path\",\"4m81vk\",{\"d\":\"M16 2v4\"}],[\"$\",\"rect\",\"1hopcy\",{\"width\":\"18\",\"height\":\"18\",\"x\":\"3\",\"y\":\"4\",\"rx\":\"2\"}],[\"$\",\"path\",\"8toen8\",{\"d\":\"M3 10h18\"}],[\"$\",\"path\",\"6423bh\",{\"d\":\"M8 14h.01\"}],[\"$\",\"path\",\"1etili\",{\"d\":\"M12 14h.01\"}],[\"$\",\"path\",\"1gbofw\",{\"d\":\"M16 14h.01\"}],[\"$\",\"path\",\"lrp35t\",{\"d\":\"M8 18h.01\"}],[\"$\",\"path\",\"mhygvu\",{\"d\":\"M12 18h.01\"}],[\"$\",\"path\",\"kzsmim\",{\"d\":\"M16 18h.01\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"children\":\"2019년 02월 14일\"}]]}],[\"$\",\"div\",null,{\"className\":\"flex items-center gap-1\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-clock3 w-3.5\",\"children\":[[\"$\",\"circle\",\"1mglay\",{\"cx\":\"12\",\"cy\":\"12\",\"r\":\"10\"}],[\"$\",\"polyline\",\"1aq6pp\",{\"points\":\"12 6 12 12 16.5 12\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"children\":[8,\"분\"]}]]}]]}],[\"$\",\"hr\",null,{\"className\":\"mt-5\"}]]}],null,[\"$\",\"article\",null,{\"className\":\"relative\",\"children\":[[\"$\",\"$L12\",null,{\"toc\":[]}],\"$L13\"]}],[\"$\",\"hr\",null,{}],[\"$\",\"$L14\",null,{}],[\"$\",\"$L15\",null,{}]]}]\n"])</script><script>self.__next_f.push([1,"f:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1, viewport-fit=cover\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"카프카(Kafka) 설치 및 클러스터 구성 | DevTimes Blog\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"카프카(Kafka) 설치\"}],[\"$\",\"meta\",\"4\",{\"property\":\"og:title\",\"content\":\"카프카(Kafka) 설치 및 클러스터 구성 | DevTimes Blog\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:description\",\"content\":\"카프카(Kafka) 설치\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:url\",\"content\":\"https://blog.devtimes.com/kafka-cluster\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:image\",\"content\":\"https://blog.devtimes.com/posts/datalake/kafka-cluster/cover.png\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"9\",{\"property\":\"article:published_time\",\"content\":\"2019-02-14T00:00:00.000Z\"}],[\"$\",\"meta\",\"10\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"11\",{\"name\":\"twitter:title\",\"content\":\"카프카(Kafka) 설치 및 클러스터 구성 | DevTimes Blog\"}],[\"$\",\"meta\",\"12\",{\"name\":\"twitter:description\",\"content\":\"카프카(Kafka) 설치\"}],[\"$\",\"meta\",\"13\",{\"name\":\"twitter:image\",\"content\":\"https://blog.devtimes.com/posts/datalake/kafka-cluster/cover.png\"}],[\"$\",\"link\",\"14\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"518x518\"}],[\"$\",\"link\",\"15\",{\"rel\":\"icon\",\"href\":\"/icon.png?8d4a794a4e2a4e0b\",\"type\":\"image/png\",\"sizes\":\"518x518\"}],[\"$\",\"link\",\"16\",{\"rel\":\"apple-touch-icon\",\"href\":\"/apple-icon.png?8d4a794a4e2a4e0b\",\"type\":\"image/png\",\"sizes\":\"518x518\"}]]\n"])</script><script>self.__next_f.push([1,"4:null\n"])</script><script>self.__next_f.push([1,"13:[\"$\",\"div\",null,{\"className\":\"prose dark:prose-invert\",\"children\":[\"$L16\",null,\"$undefined\",null]}]\n"])</script><script>self.__next_f.push([1,"16:[[\"$\",\"p\",null,{\"children\":\"Kafka를 설치하고 간단하게 클러스터 환경을 구성하여 Producer 및 Consumer 테스트를 해보자.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"먼저 가상머신을 이용해 다음 그림과 같이 클러스터 환경을 구성하여 테스트를 진행할 것이다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"img\",null,{\"src\":\"/posts/datalake/kafka-cluster/kfc-01.png\",\"alt\":\"img\",\"className\":\"mx-auto mb-0 mt-8 rounded-md\"}],[\"$\",\"span\",null,{\"className\":\"mb-8 mt-2 block w-full text-center text-sm text-gray-500 dark:text-gray-400\",\"children\":\"img\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"이 글에서는 3대의 서버를 생성하였지만 1대의 서버로 포트를 다르게 하여 구성할 수도 있다. 또한 Kafka와 Zookeeper서버를 동일한 장비에 구축하였지만 실무에서는 별도로 구축하는 것이 좋다.\"}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"kafka-다운로드-및-설치\",\"children\":\"Kafka 다운로드 및 설치\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"다운로드(각 버전에 대해서는 \",[\"$\",\"a\",null,{\"target\":\"_blank\",\"href\":\"https://kafka.apache.org/downloads%EB%A5%BC\",\"className\":\"break-words text-pink-600 no-underline underline-offset-4 hover:underline\",\"children\":\"https://kafka.apache.org/downloads를\"}],\" 참고하자.)\"]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-dark\":\"#adbac7\",\"--shiki-light\":\"#24292e\",\"--shiki-dark-bg\":\"#22272e\",\"--shiki-light-bg\":\"#fff\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"style\":{\"display\":\"grid\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F69D50\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"$$\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" wget\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" http://apache.mirror.cdnetworks.com/kafka/2.1.0/kafka_2.11-2.1.0.tgz\"}]]}]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"압축해제 및 경로이동\"}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-dark\":\"#adbac7\",\"--shiki-light\":\"#24292e\",\"--shiki-dark-bg\":\"#22272e\",\"--shiki-light-bg\":\"#fff\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F69D50\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"$$\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" tar\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" -zxvf\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" kafka_2.11-2.1.0.tgz\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F69D50\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"$$\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" cd\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" kafka_2.11-2.1.0\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Kafka의 동작은 Zookeeper에 의해 관리가 되기 때문에 Zookeeper 없이는 Kafka를 구동할 수 없다. 이 때문에 Kafka를 다운로드 하면 Zookeeper도 함께 들어있다. 물론 별도로 최신버전의 Zookeeper를 다운받아 사용해도 되지만, Kafka에 들어있는 Zookeeper는 Kafka버전과 잘 동작하는 검증된 버전이므로 패키지 안에 있는 Zookeeper의 사용을 권장한다.\"}],\"\\n\",[\"$\",\"h5\",null,{\"id\":\"zookeeper-설정\",\"children\":\"Zookeeper 설정\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"각 인스턴스에 설치된 Kafka의 config/zookeeper.properties 파일은 하나의 Zookeeper를 실행하는데 쓰이는 설정 파일이다. 이 말은 zookeeper1.properties, zookeeper2.properties, zookeeper3.properties 이런식으로 여러개의 설정파일을 만들고 하나의 장비에서 다중으로 실행할 수 있다는 의미이다. 설정파일을 다음과 같이 3대의 서버에 동일하게 추가하자.\"}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-dark\":\"#adbac7\",\"--shiki-light\":\"#24292e\",\"--shiki-dark-bg\":\"#22272e\",\"--shiki-light-bg\":\"#fff\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"style\":{\"display\":\"grid\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F69D50\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"$$\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" vi\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" config/zookeeper.properties\"}]]}]}]}]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-dark\":\"#adbac7\",\"--shiki-light\":\"#24292e\",\"--shiki-dark-bg\":\"#22272e\",\"--shiki-light-bg\":\"#fff\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#768390\",\"--shiki-light\":\"#6A737D\"},\"children\":\"# the directory where the snapshot is stored.\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#24292E\"},\"children\":\"dataDir\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F47067\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"**\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\"/tmp/zookeeper\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"**\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#768390\",\"--shiki-light\":\"#6A737D\"},\"children\":\"# the port at which the clients will connect\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#24292E\"},\"children\":\"clientPort\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F47067\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"2181\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#768390\",\"--shiki-light\":\"#6A737D\"},\"children\":\"# disable the per-ip limit on the number of connections \"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#768390\",\"--shiki-light\":\"#6A737D\"},\"children\":\"# since this is a non-production config\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#24292E\"},\"children\":\"maxClientCnxns\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F47067\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"0\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#24292E\"},\"children\":\"initLimit\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F47067\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"5\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#24292E\"},\"children\":\"syncLimmit\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F47067\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"2\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F69D50\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"server.1\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#24292E\"},\"children\":\"=192.168.137.101:2888:3888\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F69D50\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"server.2\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#24292E\"},\"children\":\"=192.168.137.102:2888:3888\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F69D50\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"server.3\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#24292E\"},\"children\":\"=192.168.137.103:2888:3888\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"새로 추가한 설정값은 클러스터를 구성하는데 필요한 설정 값들안데 여기서 주의할 점은 모든 Zookeeper 서버들은 동일한 변수 값을 가지고 있어야 한다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"initLimit\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"팔로워가 리더와 초기에 연결하는 시간에 대한 타임아웃\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"syncLimit\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"팔로워가 리더와 동기화 하는데에 대한 타임아웃. 즉 이 틱 시간안에 팔로워가 리더와 동기화가 되지 않는다면 제거 된다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"이 두값은 dafault 기본값이 없기 때문에 반드시 설정해야 하는 값이다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"그리고 server.1,2,3의 숫자는 인스턴스 ID이다. ID는 dataDir=/tmp/zookeeper 폴더에 myid파일에 명시가 되어야 한다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"/tmp/zookeeper 디렉토리가 없다면 생성하고 myid 파일을 생성하여 각각 서버의 고유 ID값을 부여해야 한다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"(그 외 자세한 설정정보를 알고 싶다면 \",[\"$\",\"strong\",null,{\"children\":\"주키퍼 가이드문서\"}],\"를 참고하자.)\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"1 서버 (192.168.137.101)\"}]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-dark\":\"#adbac7\",\"--shiki-light\":\"#24292e\",\"--shiki-dark-bg\":\"#22272e\",\"--shiki-light-bg\":\"#fff\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F69D50\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"$$\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" mkdir\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" /tmp/zookeeper\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F69D50\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"$$\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" echo\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 1\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F47067\",\"--shiki-light\":\"#D73A49\"},\"children\":\" \u003e\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" /tmp/zookeeper/myid\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"2 서버 (192.168.137.102)\"}]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-dark\":\"#adbac7\",\"--shiki-light\":\"#24292e\",\"--shiki-dark-bg\":\"#22272e\",\"--shiki-light-bg\":\"#fff\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F69D50\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"$$\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" mkdir\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" /tmp/zookeeper\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F69D50\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"$$\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" echo\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 2\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F47067\",\"--shiki-light\":\"#D73A49\"},\"children\":\" \u003e\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" /tmp/zookeeper/myid\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"3 서버 (192.168.137.103)\"}]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-dark\":\"#adbac7\",\"--shiki-light\":\"#24292e\",\"--shiki-dark-bg\":\"#22272e\",\"--shiki-light-bg\":\"#fff\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F69D50\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"$$\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" mkdir\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" /tmp/zookeeper\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F69D50\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"$$\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" echo\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 3\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F47067\",\"--shiki-light\":\"#D73A49\"},\"children\":\" \u003e\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" /tmp/zookeeper/myid\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"이제 Zookeeper를 구동하기 위한 설정은 끝~\"}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"kafka-설정\",\"children\":\"Kafka 설정\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Kafka의 config/server.properties 파일은 하나의 Kafka를 실행하는데 쓰이는 설정 파일이다. Zookeeper와 마찬가지로 여러개의 설정파일을 만들고 다중 실행을 할 수 있다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"설정파일 config/server.properties에 3대 서버 각 환경에 맞는 정보를 입력해 준다.\"}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-dark\":\"#adbac7\",\"--shiki-light\":\"#24292e\",\"--shiki-dark-bg\":\"#22272e\",\"--shiki-light-bg\":\"#fff\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"style\":{\"display\":\"grid\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F69D50\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"$$\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" vi\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" config/server.properties\"}]]}]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"1 서버 (192.168.137.101)\"}]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-dark\":\"#adbac7\",\"--shiki-light\":\"#24292e\",\"--shiki-dark-bg\":\"#22272e\",\"--shiki-light-bg\":\"#fff\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F69D50\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"broker.id\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#24292E\"},\"children\":\"=1\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#24292E\"},\"children\":\"listeners\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F47067\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\"PLAINTEXT://:9092\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F69D50\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"advertised.listeners\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#24292E\"},\"children\":\"=PLAINTEXT://**192.168.137.101**:9092\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F69D50\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"zookeeper.connect\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#24292E\"},\"children\":\"=192.168.137.101:2181, \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"192.168\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\".137.102:2181,\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 192.168\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\".137.103:2181\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"2 서버 (192.168.137.102)\"}]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-dark\":\"#adbac7\",\"--shiki-light\":\"#24292e\",\"--shiki-dark-bg\":\"#22272e\",\"--shiki-light-bg\":\"#fff\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F69D50\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"broker.id\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#24292E\"},\"children\":\"=2\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#24292E\"},\"children\":\"listeners\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F47067\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\"PLAINTEXT://:9092\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F69D50\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"advertised.listeners\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#24292E\"},\"children\":\"=PLAINTEXT://**192.168.137.102**:9092\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F69D50\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"zookeeper.connect\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#24292E\"},\"children\":\"=192.168.137.101:2181, \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"192.168\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\".137.102:2181,\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 192.168\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\".137.103:2181\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"3 서버 (192.168.137.103)\"}]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-dark\":\"#adbac7\",\"--shiki-light\":\"#24292e\",\"--shiki-dark-bg\":\"#22272e\",\"--shiki-light-bg\":\"#fff\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F69D50\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"broker.id\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#24292E\"},\"children\":\"=3\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#24292E\"},\"children\":\"listeners\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F47067\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\"PLAINTEXT://:9092\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F69D50\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"advertised.listeners\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#24292E\"},\"children\":\"=PLAINTEXT://**192.168.137.103**:9092\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F69D50\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"zookeeper.connect\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#ADBAC7\",\"--shiki-light\":\"#24292E\"},\"children\":\"=192.168.137.101:2181, \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"192.168\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\".137.102:2181,\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 192.168\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\".137.103:2181\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"별도 파일(/tmp/zookeeper/myid)에 인스턴스 ID를 명시해야 하는 Zookeeper와는 달리 Kafka는 설정파일안에 broker.id라는 항목이 있다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"그리고 zookeeper.connet라는 항목에는 Zookeeper인스턴스들의 정보를 입력해준다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Kafka를 구동하기 위한 설정은 끝났다. 클러스터 구성을 위한 인스턴스들의 정보를 입력해 주는것이 거의 대부분의 설정이다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"그외 설정 파일에 대한 상세한 내용은 공식 홈페이지의 \",[\"$\",\"a\",null,{\"target\":\"_blank\",\"href\":\"http://kafka.apache.org/documentation/#brokerconfigs\",\"className\":\"break-words text-pink-600 no-underline underline-offset-4 hover:underline\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Broker Configs\"}]}],\"를 참고하길 바란다. default설정값을 확인하고 변경하고자 하는 값들은 설정파일에 명시를 해주면 된다.\"]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"zookeeper-및-kafka-서버-구동\",\"children\":\"Zookeeper 및 Kafka 서버 구동\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Kafka를 구동하기 위해 먼저 Zookeeper를 구동 한다음 이후 Kafka를 구동해야 한다.\"}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-dark\":\"#adbac7\",\"--shiki-light\":\"#24292e\",\"--shiki-dark-bg\":\"#22272e\",\"--shiki-light-bg\":\"#fff\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F69D50\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"$$\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" bin/zookeeper-server-start.sh\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" config/zookeeper.properties\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F69D50\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"$$\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" bin/kafka-server-start.sh\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" config/server.properties\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"3대의 서버에 Zookeeper와 Kafka가 정상적으로 구동이 되었다면 다음과 같이 starting 메시지를 확인할 수 있을 것이다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"*starting (kafka.server.KafkaServer)\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"이제 기본적인 클러스터 환경을 구성하고 서버를 구동시켰다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Kafka에서는 bin폴더 아래 제공되는 스크립트 파일을 이용해 Topic을 관리하고 Producer,Consumer를 테스트 해볼수 있다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"기본적인 몇가지 스크립트 명령을 이용해 Topic을 생성해 보고 Producer 메시지를 저장하고 Consumer 메시지를 읽어오는것을 확인해 보도록 하자.\"}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"topic-관리\",\"children\":\"Topic 관리\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"1. Topic생성\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"GameLog, GameLog2, GameLog3 세개의 Topic을 생성해보자.(replication-factor:3, partitions : 1)\"}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-dark\":\"#adbac7\",\"--shiki-light\":\"#24292e\",\"--shiki-dark-bg\":\"#22272e\",\"--shiki-light-bg\":\"#fff\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F69D50\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"$$\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" bin/kafka-topics.sh\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --create\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --zookeeper\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 192.168\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\".137.101:2181,\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 192.168\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\".137.102:2181,\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 192.168\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\".137.103:2181\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --replication-factor\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 3\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --partitions\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 1\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --topic\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" GameLog\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F69D50\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"$$\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" bin/kafka-topics.sh\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --create\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --zookeeper\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 192.168\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\".137.101:2181,\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 192.168\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\".137.102:2181,\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 192.168\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\".137.103:2181\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --replication-factor\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 3\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --partitions\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 1\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --topic\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" GameLog2\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F69D50\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"$$\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" bin/kafka-topics.sh\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --create\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --zookeeper\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 192.168\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\".137.101:2181,\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 192.168\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\".137.102:2181,\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 192.168\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\".137.103:2181\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --replication-factor\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 3\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --partitions\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 1\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --topic\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" GameLog3\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"출력 \",[\"$\",\"em\",null,{\"children\":\"Created topic \\\"GameLog\\\"\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"2. Topic 리스트 확인\"}]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-dark\":\"#adbac7\",\"--shiki-light\":\"#24292e\",\"--shiki-dark-bg\":\"#22272e\",\"--shiki-light-bg\":\"#fff\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"style\":{\"display\":\"grid\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F69D50\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"$$\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" bin/kafka-topics.sh\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --list\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --zookeeper\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 192.168\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\".137.101:2181,\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 192.168\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\".137.102:2181,\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 192.168\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\".0.103:2181\"}]]}]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"출력 GameLog GameLog2 GameLog3\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"3. Topic 삭제\"}]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-dark\":\"#adbac7\",\"--shiki-light\":\"#24292e\",\"--shiki-dark-bg\":\"#22272e\",\"--shiki-light-bg\":\"#fff\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"style\":{\"display\":\"grid\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F69D50\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"$$\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" bin/kafka-topics.sh\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --delete\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --zookeeper\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 192.168\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\".137.101:2181,\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 192.168\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\".137.102:2181,\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 192.168\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\".137.103:2181\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --topic\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" GameLog3\"}]]}]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"출력 \",[\"$\",\"em\",null,{\"children\":\"Topic GameLog3 is marked for deletion\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"4. Topic 상세 정보 확인\"}]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-dark\":\"#adbac7\",\"--shiki-light\":\"#24292e\",\"--shiki-dark-bg\":\"#22272e\",\"--shiki-light-bg\":\"#fff\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"style\":{\"display\":\"grid\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F69D50\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"$$\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" bin/kafka-topics.sh\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --describe\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --zookeeper\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 192.168\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\".137.101:2181,\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 192.168\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\".137.102:2181,\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 192.168\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\".137.103:2181\"}]]}]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"출력 \",[\"$\",\"em\",null,{\"children\":\"PartitionCount:1 ReplicationFactor:3..\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"토픽을 생성했으면 해당 토픽에 메시지를 생산하고 소비하는것을 직접 확인해보자.\"}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"메시지-생산-및-소비\",\"children\":\"메시지 생산 및 소비\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"1.Producer 메시지 생산하기\"}]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-dark\":\"#adbac7\",\"--shiki-light\":\"#24292e\",\"--shiki-dark-bg\":\"#22272e\",\"--shiki-light-bg\":\"#fff\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"style\":{\"display\":\"grid\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F69D50\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"$$\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" bin/kafka-console-producer.sh\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --broker-list\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 192.168\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\".137.101:9092,192.168.137.102:9092,192.168.137.103:9092\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --topic\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" GameLog\"}]]}]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"img\",null,{\"src\":\"/posts/datalake/kafka-cluster/kfc-02.png\",\"alt\":\"img\",\"className\":\"mx-auto mb-0 mt-8 rounded-md\"}],[\"$\",\"span\",null,{\"className\":\"mb-8 mt-2 block w-full text-center text-sm text-gray-500 dark:text-gray-400\",\"children\":\"img\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"2.Consumer 메시지 소비하기\"}]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-dark\":\"#adbac7\",\"--shiki-light\":\"#24292e\",\"--shiki-dark-bg\":\"#22272e\",\"--shiki-light-bg\":\"#fff\"},\"tabIndex\":\"0\",\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"bash\",\"data-theme\":\"github-dark-dimmed github-light\",\"style\":{\"display\":\"grid\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#F69D50\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"$$\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" bin/kafka-console-consumer.sh\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --bootstrap-server\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 192.168\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\".137.101:9092,192.168.137.102:9092,192.168.137.103:9092\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --topic\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#96D0FF\",\"--shiki-light\":\"#032F62\"},\"children\":\" GameLog\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-dark\":\"#6CB6FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --from-beginning\"}]]}]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"img\",null,{\"src\":\"/posts/datalake/kafka-cluster/kfc-03.png\",\"alt\":\"img\",\"className\":\"mx-auto mb-0 mt-8 rounded-md\"}],[\"$\",\"span\",null,{\"className\":\"mb-8 mt-2 block w-full text-center text-sm text-gray-500 dark:text-gray-400\",\"children\":\"img\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"from-beginning 옵션은 해당 topic의 맨 처음 메시지부터 소비하겠다는 의미이다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"그림에서 보는 것과 같이 Producer에서 메시지를 입력하면 Consumer에서 해당 메시지를 읽어오는 것을 확인 할 수 있다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"지금까지 Kafka 클러스터를 직접 구축하여 메시지 생산하고 소비하는 것을 간단하게 해보았다.\"}]]\n"])</script><script>self.__next_f.push([1,""])</script></body></html>